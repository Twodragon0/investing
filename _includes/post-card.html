{% assign reading_time = post.content | number_of_words | divided_by: 200 %}
{% if reading_time == 0 %}{% assign reading_time = 1 %}{% endif %}

{% assign pc_cat = post.categories | first %}
{% if pc_cat == "crypto-news" %}{% assign pc_cat_name = "암호화폐 뉴스" %}
{% elsif pc_cat == "stock-news" %}{% assign pc_cat_name = "주식 뉴스" %}
{% elsif pc_cat == "crypto-journal" or pc_cat == "crypto-trading-journal" %}{% assign pc_cat_name = "크립토 일지" %}
{% elsif pc_cat == "stock-journal" or pc_cat == "stock-trading-journal" %}{% assign pc_cat_name = "주식 일지" %}
{% elsif pc_cat == "security-alerts" %}{% assign pc_cat_name = "보안 알림" %}
{% elsif pc_cat == "market-analysis" %}{% assign pc_cat_name = "시장 분석" %}
{% elsif pc_cat == "political-trades" %}{% assign pc_cat_name = "정치인 거래" %}
{% elsif pc_cat == "regulatory-news" %}{% assign pc_cat_name = "규제 동향" %}
{% else %}{% assign pc_cat_name = pc_cat %}
{% endif %}

<article class="post-card cat-border-{{ pc_cat | slugify }}{% if post.pin %} pinned{% endif %}">
  <div class="post-card-meta">
    {% if post.pin %}<span class="pin-badge"><svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><path d="M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"/></svg> TOP</span>{% endif %}
    <span class="post-category cat-{{ pc_cat | slugify }}">{{ pc_cat_name }}</span>
    <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%Y-%m-%d" }}</time>
    {% if post.source %}<span class="post-source">{{ post.source }}</span>{% endif %}
    <span class="post-reading-time">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>
      </svg>
      {{ reading_time }}분
    </span>
  </div>
  <h3><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
  {% if post.excerpt %}<p class="post-excerpt">{{ post.excerpt | strip_html | truncate: 150 }}</p>{% endif %}
  <div class="post-card-footer">
    {% if post.tags.size > 0 %}
    <div class="post-tags">
      {% for tag in post.tags limit:3 %}
      <span class="tag">{{ tag }}</span>
      {% endfor %}
    </div>
    {% endif %}
    <span class="post-card-arrow">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/>
      </svg>
    </span>
  </div>
</article>
